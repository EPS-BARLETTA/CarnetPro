<!DOCTYPE html><html lang="fr"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CarnetPro — Identité</title>
<style>
:root{
  --ink:#0b1324;--muted:#475569;--border:#e5e7eb;--card:#ffffff;--blue:#2563eb;--green:#16a34a;--red:#dc2626;--amber:#f59e0b;
}
*{box-sizing:border-box}
html,body{margin:0;padding:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Helvetica,Arial,sans-serif;background:#f8fafc;color:var(--ink)}
.container{max-width:1100px;margin:0 auto;padding:16px}
.header{display:flex;align-items:center;justify-content:space-between;gap:12px;margin:8px 0 16px}
.h1{font-size:clamp(22px,4vw,30px);font-weight:800}
.sub{color:var(--muted)}
.grid{display:grid;gap:12px}
.tiles{grid-template-columns:repeat(auto-fit,minmax(210px,1fr))}
.tile{display:flex;flex-direction:column;gap:6px;padding:16px;border:1px solid var(--border);border-radius:16px;background:#fff;text-decoration:none;color:inherit}
.tile:hover{outline:2px solid #c7d2fe}
.tile .name{font-weight:800}
.row{display:flex;gap:10px;flex-wrap:wrap;align-items:center}
.card{background:var(--card);border:1px solid var(--border);border-radius:16px;padding:16px}
.button{appearance:none;border:1px solid var(--border);background:#fff;padding:12px 16px;border-radius:12px;cursor:pointer;font-weight:700;text-decoration:none;color:inherit}
.button.primary{background:var(--blue);border-color:var(--blue);color:#fff}
.button.ok{background:var(--green);border-color:var(--green);color:#fff}
.button.warn{background:var(--amber);border-color:var(--amber);color:#111}
.button.danger{background:var(--red);border-color:var(--red);color:#fff}
.input{width:100%;padding:12px 14px;border:1px solid var(--border);border-radius:12px}
textarea.input{min-height:96px}
.label{font-size:12px;color:var(--muted);margin-bottom:6px}
.footer{margin-top:18px;color:var(--muted);text-align:center}
hr{border:0;border-top:1px solid var(--border);margin:16px 0}
.badge{display:inline-flex;align-items:center;gap:6px;font-size:12px;border:1px solid var(--border);border-radius:999px;padding:6px 10px;background:#fff}
.calendar{display:grid;grid-template-columns:repeat(7,1fr);gap:8px}
.day{border:1px solid var(--border);background:#fff;border-radius:12px;min-height:90px;padding:6px}
.day .d{font-weight:700}
.badge-dot{display:inline-block;width:8px;height:8px;border-radius:50%;background:#2563eb}
.qr-wrap{display:flex;flex-direction:column;align-items:center;gap:12px}
.qr-box{padding:12px;border-radius:16px;border:1px dashed var(--border);background:#fff}
.contrast-dark .qr-box{filter:invert(1)}
</style></head><body>
<div class="container">
  <div class="header"><div class="h1">Mon identité</div><a class="button" href="index.html">Accueil</a></div>
  <div class="card grid" style="grid-template-columns:1fr 1fr">
    <div><div class="label">Nom</div><input id="nom" class="input" placeholder="DURAND"></div>
    <div><div class="label">Prénom</div><input id="prenom" class="input" placeholder="Lina"></div>
    <div><div class="label">Classe</div><input id="classe" class="input" placeholder="T1"></div>
    <div><div class="label">Sexe</div>
      <select id="sexe" class="input"><option value="">—</option><option value="F">F</option><option value="M">M</option><option value="Autre">Autre</option></select>
    </div>
  </div>
  <div class="row" style="margin-top:12px">
    <span id="status" class="badge">⏳ En attente</span>
    <a id="next" class="button primary" href="seance.html">Continuer → Séance</a>
    <button id="reset" class="button danger">Réinitialiser</button>
  </div>
</div>
<script>

function gpGet(key, fallback=null){ try{ const v = localStorage.getItem(key); return v? JSON.parse(v): fallback; }catch(e){ return fallback; } }
function gpSet(key, value){ localStorage.setItem(key, JSON.stringify(value)); }
function gpRemove(key){ localStorage.removeItem(key); }
const GP_KEYS = { eleve:'eleve', seances:'seances', derniereSeance:'derniereSeance' };
function makeSeance(eleve, activite, champs={}, notes=''){
  return { app:'CarnetPro', version:'1.0', eleve, seance:{ date: champs.date || new Date().toISOString().slice(0,10), activite, champs, notes } };
}

const $ = s=>document.querySelector(s);
const inputs=['nom','prenom','classe','sexe'].map(id=>$('#'+id));
const status=$('#status'); const reset=$('#reset');
const saved=gpGet(GP_KEYS.eleve,{}); inputs.forEach(i=>{ if(saved[i.id]!==undefined) i.value=saved[i.id]; });
render();
inputs.forEach(i=> i.addEventListener('input', ()=>{ gpSet(GP_KEYS.eleve, Object.fromEntries(inputs.map(x=>[x.id,x.value.trim()]))) ; render(); }));
reset.addEventListener('click', ()=>{ gpRemove(GP_KEYS.eleve); gpRemove(GP_KEYS.derniereSeance); gpRemove(GP_KEYS.seances); inputs.forEach(i=>i.value=''); render(); alert('Données effacées'); });
function ok(){ const e=gpGet(GP_KEYS.eleve,{}); return e.nom&&e.prenom&&e.classe&&e.sexe; }
function render(){ status.textContent = ok()?'✅ Enregistré':'⏳ En attente'; }
</script>
</body></html>
